# 消息队列学习笔记

## 1. 消息队列常见的几种场景介绍 
> from: 微信公众号 java后端技术 https://mp.weixin.qq.com/s/ew_ty8qZsuA_z5M5lS4izA

> 消息队列中间件是分布式系统中的重要组件，主要应用场景:异步处理，应用解耦，流量削峰，消息通讯，日志处理等. 
alibaba开源RecketMq成为Apache软件基金会顶级开源项目.
* 异步处理，举例用户注册，然后发送短信和邮件的场景；使用串行方式每个过程耗时150ms;并行方式短信和邮件同时进行，耗时100ms;使用消息队列，将注册后不必须的业务
如注册短信和邮箱写入消息队列，此时耗时约50ms;cpu在单位时间内能处理的请求数是一定的，所以使用消息队增加了业务吞吐量。
* 应用解耦，举例用户下单后订单系统调用库存系统的接口.传统做法如果库存系统无法访问则返回失败，引入消息队列后，订单系统将请求写入消息队列后就即可返回下单成功，不关心其他后续操作了。
实现订单系统与库存系统的解耦。
* 流量削峰，流量削峰是消息队列常用场景，秒杀活动中，如果流量过大导致流量挂掉。用户的请求，服务器接手后，首先写入消息队列，加入消息队列长度超过最数量，则直接抛出用户请求或跳转到错误页面。
* 消息通讯，消息队列内置了高效的通信机制，一次可用于纯的消息通讯，消息队列的点对点或发布订阅模式.

from: 微信公众号 java架构沉思录 https://mp.weixin.qq.com/s/AQDmjICPmwbR_t9ayOsdkw
## 2. 消息中间件 3种传输模式
* 点对点传输     一对一的方式，消费之后从队列删除
* 发布订阅模式   一对多的方式，顾名思义，订阅者需要先订阅才可以接受消息
* 双向应答模式   并不是消息中间件提供的一种通信模式，它是由于实际生成环境的需要，在原有的基础上做了改良

## 3. ActiveMQ快速入门
 源码地址： https://github.com/ITDragonBlog/daydayup/tree/master/MQ
 ActiveMQ是Apache出品，简单好用，能力强大，可以处理大部分的业务的开源消息总线。同时也支持JMS规范。
  * activeMq 下载安装 在官网下载，bin目录下找到自己操作系统对应的wrapper.exe 安装
  * activeMq工作流程
  * springboot整合activeMq 完成2个步骤，1,pom中导入activeMqjar包依赖 2,application.properties文件中配置连接ActiveMQ参数
